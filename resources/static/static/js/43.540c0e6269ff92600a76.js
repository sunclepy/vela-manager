(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{P7Ii:function(t,e,a){},evRU:function(t,e,a){"use strict";a("P7Ii")},g5jv:function(t,e,a){"use strict";a.r(e);var o=a("jWXv"),i=a.n(o),n=a("m1cH"),s=a.n(n),l=(a("vQJo"),{name:"formNode",props:{isAdd:Boolean},data:function(){return{platformData:[{value:"windows",label:"windows"},{value:"linux",label:"linux"}],archData:[{value:"386",label:"386"},{value:"amd64",label:"amd64"}],form:{goos:"",arch:"",inet:""},dialogVisible:!1,rules:{goos:[{required:!0,message:"请选择操作系统",trigger:"change"}],arch:[{required:!0,message:"请输入系统架构",trigger:"change"}],inet:[{required:!0,message:"请输入节点IPv4",trigger:"blur"}]}}},methods:{handleClose:function(){this.dialogVisible=!1},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.isAdd&&e.$request.fetchAddNode(e.form).then((function(t){e.$message({message:"添加成功!!!",type:"success"}),e.$parent.getNode(),e.dialogVisible=!1,e.form={}})).catch((function(t){e.$message.error(t.data)}))}))}}}),r=a("KHd+"),c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"before-close":t.handleClose,"el-dialog":"","close-on-click-modal":!1,visible:t.dialogVisible,title:t.isAdd?"新增节点":"编辑节点","append-to-body":"",width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,size:"small","label-width":"85px"}},[a("el-form-item",{attrs:{label:"操作系统",prop:"platform"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.form.goos,callback:function(e){t.$set(t.form,"goos",e)},expression:"form.goos"}},t._l(t.platformData,(function(t){return a("el-option",{key:t.label,attrs:{value:t.value,label:t.label}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"系统架构",prop:"arch"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.form.arch,callback:function(e){t.$set(t.form,"arch",e)},expression:"form.arch"}},t._l(t.archData,(function(t){return a("el-option",{key:t.label,attrs:{value:t.value,label:t.label}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"IPv4",prop:"inet"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.inet,callback:function(e){t.$set(t.form,"inet",e)},expression:"form.inet"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v(t._s(t.isAdd?"创建":"修改"))])],1)],1)}),[],!1,null,"51032267",null).exports,d=a("/zyf"),u=a("ThUY"),f=a("MT78"),h={name:"actionForm",props:["title","pageTotal","filters","nodeData"],data:function(){return{actionDialog:!1,dataAction:[],okLoading:!1}},methods:{handleClose:function(){this.actionDialog=!1},onSubmit:function(){var t=this,e=this,a="";if("批量下线"===this.title)a="offline";else if("批量重启"===this.title)a="restart";else if("批量升级"===this.title)a="upgrade";else{if("彻底删除"===this.title)return this.actionDialog=!1,void this.$emit("cancel");if("逻辑删除"===this.title){var o={filters:this.filters};return this.okLoading=!0,void this.$request.fetchDeleteNode(o).then((function(a){e.$message({message:e.title+"成功!!!",type:"success"}),t.okLoading=!1,t.actionDialog=!1,t.$emit("getNode")})).catch((function(e){t.okLoading=!1,t.$message.error(e.data)}))}}var i={cmd:a,filters:this.filters};this.okLoading=!0,this.$request.fetchBatch(i).then((function(a){e.$message({message:e.title+"成功!!!",type:"success"}),t.okLoading=!1,t.actionDialog=!1,t.$emit("getNode")})).catch((function(e){t.okLoading=!1,t.$message.error(e.data)}))}},watch:{nodeData:function(t){this.nodeData=t},filters:function(t){this.filters=t}}},m=Object(r.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"el-dialog":"","close-on-click-modal":!1,"before-close":t.handleClose,visible:t.actionDialog,title:t.title,"append-to-body":"",width:"500px"},on:{"update:visible":function(e){t.actionDialog=e}}},[a("div",[t._l(t.nodeData,(function(e){return a("el-tag",{key:e.id,staticStyle:{"margin-right":"3px","margin-bottom":"3px"},attrs:{size:"mini",type:"彻底删除"===t.title||"逻辑删除"===t.title?"danger":"success"}},[t._v(t._s(e.inet)+"\n    ")])})),t._v("\n    共计 "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.pageTotal))]),t._v(" 条,是否操作？\n  ")],2),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.actionDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.okLoading,expression:"okLoading"}],attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("确定")])],1)])}),[],!1,null,"5abfb27b",null).exports,g={name:"node",components:{NodeForm:c,Page:d.a,SelectSearch:u.a,ActionForm:m},data:function(){return{topEchartShow:!1,defaultData:{key:{desc:"节点标签",key:"tag"},operator:{key:"like",desc:"LIKE"}},actionTitle:"终端列表",selectArray:[{model:"",placeholder:"操作系统",name:"goos",dataArray:[{key:"linux",desc:"Linux"},{key:"windows",desc:"Windows"},{key:"darwin",desc:"macOS"}]},{model:"",name:"status",placeholder:"状态",dataArray:[{key:"1",desc:"未激活"},{key:"2",desc:"离线"},{key:"3",desc:"在线"},{key:"4",desc:"已删除"}]}],status:0,goos:"",actionType:["批量下线","逻辑删除","批量重启","批量升级","彻底删除"],tagType:["success","danger"],current:1,size:15,pageTotal:0,pageSizeArray:["10","20","30","40"],nodeData:[],isAdd:!0,delLoading:!1,stopLoading:!1,detailShow:!1,nodeDetailData:[],rowData:{},serverData:{},eventPage:{current:1,pageSize:10},fromValue:"",typeofValue:"",subject:"",animate:!1,statusData:{},goosData:{},selectAll:[],reloadLoading:!1,condData:{},value:null,operatorValue:"in",filters:[]}},created:function(){this.getNode(),this.getCond()},methods:{echartShow:function(){void 0===this.statusData.deleted&&this.getStatus(),this.topEchartShow=!this.topEchartShow},filseSuccess:function(t){var e=this,a=new FileReader;a.onload=function(){var t=this;a.result&&e.$request.fetchCmdb(a.result).then((function(){e.$message({message:"添加成功!!!",type:"success"})})).catch((function(e){t.$message.error(e.data)}))},a.readAsText(t.raw)},handleRemove:function(t,e){this.form.file=""},beforeRemove:function(t,e){return this.$confirm("确定移除 $ { file.name } ？")},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},selectionChange:function(t){this.selectAll=t},bulkClick:function(t){this.$refs.actionForm.actionDialog=!0,this.actionTitle=t},cancel:function(){this.actionTitle="",this.$store.commit("delfilters",this.filters),this.$store.commit("setmessagetotal",this.pageTotal)},getStatus:function(){var t=this;this.$request.fetchStatus().then((function(e){t.statusData=e.data,t.mychartes()})).catch((function(e){t.$message.error(e.data)})),this.$request.fetchGoos().then((function(e){t.goosData=e.data,t.chartsClient()})).catch((function(e){t.$message.error(e.data)}))},mychartes:function(){var t=[{value:this.statusData.online,name:"在线终端",label:{color:"#666"}},{value:this.statusData.offline,name:"离线终端",label:{color:"#666"}},{value:this.statusData.deleted,name:"删除终端",label:{color:"#666"}},{value:this.statusData.inactive,name:"未激活",label:{color:"#666"}}],e=0;t.forEach((function(t){e+=t.value}));var a={backgroundColor:"#fff",tooltip:{},title:{text:e,subtext:"终端总数",x:"30%",y:"40%",textStyle:{fontSize:14,fontWeight:"normal",color:"#333"},subtextStyle:{fontSize:14,fontWeight:"normal",align:"center",color:"#555"}},legend:{orient:"vertical",right:"5%",align:"left",top:"middle",itemWidth:10,itemHeight:13,icon:"circle",itemGap:20,data:t,formatter:function(a){for(var o="",i=0;i<t.length;i++)t[i].name==a&&(o+="{a|"+a+"}| {b|"+((t[i].value/e*100).toFixed(2)+"%")+"}{b|"+t[i].value+"}");return o},textStyle:{color:"#000",rich:{a:{fontSize:12,padding:[0,10,0,6],color:"#666",fontFamily:"PingFang SC",fontStyle:"normal",lineHeight:20},b:{fontSize:12,padding:[0,10,0,6],color:"#666",fontFamily:"PingFang SC",fontStyle:"normal",lineHeight:20}}}},series:[{type:"pie",zlevel:3,radius:["50","90"],center:["35%","50%"],color:["#67c23a","#909399","#e6a23c","#f56c6c"],itemStyle:{normal:{borderWidth:10,borderColor:"#fff"}},data:t,labelLine:{normal:{show:!1}},label:{show:!1}}]},o=f.init(document.getElementById("terminals"));o.setOption(a),window.addEventListener("resize",(function(){o.resize()}))},chartsClient:function(){var t=[{value:this.goosData.windows,name:"Windows",label:{color:"#666"}},{value:this.goosData.linux,name:"Linux",label:{color:"#666"}},{value:this.goosData.darwin,name:"Mac",label:{color:"#666"}}],e=0;t.forEach((function(t){e+=t.value}));var a={backgroundColor:"#fff",tooltip:{},title:{text:e,subtext:"客户端总数",x:"30%",y:"40%",textStyle:{fontSize:14,fontWeight:"normal",color:"#333"},subtextStyle:{fontSize:14,fontWeight:"normal",align:"center",color:"#555"}},legend:{orient:"vertical",right:"5%",align:"left",top:"middle",itemWidth:10,itemHeight:13,icon:"circle",itemGap:20,data:t,formatter:function(a){for(var o="",i=0;i<t.length;i++)t[i].name==a&&(o+="{a|"+a+"}| {b|"+((t[i].value/e*100).toFixed(2)+"%")+"}{b|"+t[i].value+"}");return o},textStyle:{color:"#000",rich:{a:{fontSize:12,padding:[0,10,0,6],color:"#666",fontFamily:"PingFang SC",fontStyle:"normal",lineHeight:20},b:{fontSize:12,padding:[0,10,0,6],color:"#666",fontFamily:"PingFang SC",fontStyle:"normal",lineHeight:20}}}},series:[{type:"pie",zlevel:3,radius:["50","90"],center:["35%","50%"],color:["#67c23a","#909399","#e6a23c"],itemStyle:{normal:{borderWidth:10,borderColor:"#fff"}},data:t,labelLine:{normal:{show:!1}},label:{show:!1}}]},o=f.init(document.getElementById("client"));o.setOption(a),window.addEventListener("resize",(function(){o.resize()}))},sortdisk:function(t,e){var a=(t.stat.disk_total-t.stat.disk_free)/t.stat.disk_total,o=(e.stat.disk_total-e.stat.disk_free)/e.stat.disk_total;return this.sortList(a,o)},sortmem:function(t,e){var a=(t.stat.mem_total-t.stat.mem_free)/t.stat.mem_total,o=(e.stat.mem_total-e.stat.mem_free)/e.stat.mem_total;return this.sortList(a,o)},sortswap:function(t,e){var a=(t.stat.swap_total-t.stat.swap_free)/t.stat.swap_total,o=(e.stat.swap_total-e.stat.swap_free)/e.stat.swap_total;return this.sortList(a,o)},sortList:function(t,e){return!0===isNaN(t)&&(t=0),!0===isNaN(e)&&(e=0),t-e},ipRe:function(t){if(null!==t)return t.filter((function(t){if(!/(\d+)\.(\d+)\.(\d+)\.(\d+)/g.test(t))return t}))},getText:function(){var t=this.dataList.length;0!==t&&(this.count===t-1?this.count=0:this.count++)},constComput:function(t){var e=this,a=[].concat(s()(new i.a(this.nodeData.map((function(e){return e[t]}))))),o=[];a.forEach((function(a){o.push(e.nodeData.filter((function(e){return e[t]===a})))}));var n=[];return"status"===t&&(a.includes(!0)||n.push({key:!0,num:0}),a.includes(!1)||n.push({key:!1,num:0})),"platform"===t&&(a.includes("windows")||n.push({key:"windows",num:0}),a.includes("linux")||n.push({key:"linux",num:0})),o.forEach((function(t,e){n.push({key:a[e],num:t.length})})),n},detailClick:function(t){this.$router.push({name:"details",params:{id:t.id,data:t}})},company:function(t){if(0===t)return"0 B";var e=Math.floor(Math.log(t)/Math.log(1024));return e>0?(t/Math.pow(1024,e)).toPrecision(3)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]:t.toFixed(2)+" B"},percentageChange:function(t,e){return 0===t?0:parseInt(t/e*1e4)/100},customColorMethod:function(t,e){var a=this.percentageChange(t,e);return a<30?"#67c23a":a<70?"#e6a23c":"#f56c6c"},handleSizeChange:function(t){this.size=t,this.getNode()},handleCurrentChange:function(t){this.current=t,this.getNode()},searchClick:function(){this.getNode()},addNode:function(){this.$refs.forms.dialogVisible=!0},sheetode:function(){var t=document.createElement("a");t.href="/api/sheet/minion?Authorization="+localStorage.getItem("token"),t.target="_blank",t.click()},nodeOpera:function(t,e){var a=this,o=this;o.stopLoading=!0;var i;i={id:e},this.$request.fetchOperaNode(t,i).then((function(t){o.$message({message:"激活成功!!!",type:"success"}),o.stopLoading=!1,o.getNode()})).catch((function(t){a.$message.error(t.data)}))},commandOfline:function(t){var e=this;this.$refs[t.id+1].doClose();var a={id:t.id,cmd:"offline"},o=this;o.stopLoading=!0,this.$request.fetchcommand(a).then((function(t){e.$message.success("重启指令下发成功"),o.stopLoading=!1,o.getNode()})).catch((function(t){e.$message.error(t.data)}))},luoDelete:function(t){var e=this,a={filters:[{key:"id",operator:"eq",value:t.id}]},o=this;this.$refs[t.id].doClose(),this.$request.fetchDeleteNode(a).then((function(t){o.$message({message:"删除成功!!!",type:"success"}),o.delLoading=!1,o.getNode()})).catch((function(t){e.$message.error(t.data)}))},cheDelete:function(t){var e=this,a=this;a.delLoading=!0;var o={id:t.id};this.$request.fetchDeleteMinion(o).then((function(t){a.$message({message:"删除成功!!!",type:"success"}),a.delLoading=!1,a.getNode()})).catch((function(t){e.$message.error(t.data)}))},getNode:function(){var t=this,e={current:this.current,size:this.size,filters:this.filters};this.$request.fetchGetNode(e).then((function(e){t.nodeData=e.data.records,t.pageTotal=e.data.total})).catch((function(e){t.$message.error(e.data)}))},getCond:function(){var t=this;this.$request.fetchMinionCond().then((function(e){t.condData=e.data}))},searchBasic:function(t){this.current=1,this.filters=t,this.getNode()},handleDelete:function(t,e){this.$message({showClose:!0,message:t,row:e,type:"success"})},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t}},watch:{nodeData:function(t){this.nodeData=t}}},p=(a("evRU"),Object(r.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.topEchartShow,expression:"topEchartShow"}],staticStyle:{"margin-bottom":"10px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("el-card",[a("div",{staticClass:"terminal",style:{float:"left",width:"100%",height:"200px"},attrs:{id:"terminals"}})])],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-card",[a("div",{staticClass:"client",style:{float:"left",width:"100%",height:"200px"},attrs:{id:"client"}})])],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[a("el-card",{staticStyle:{height:"220px"}},[a("div",{staticStyle:{"font-size":"12px",color:"#86909c","margin-bottom":"8px"}},[t._v("未安装终端")]),t._v(" "),a("div",{staticStyle:{"font-size":"26px",color:"#1a2233","font-family":"ByteNumber Bold"}},[t._v("0")])])],1)],1),t._v(" "),a("el-card",{staticStyle:{"min-height":"890px"}},[a("el-row",[a("el-col",{attrs:{span:14}},[a("select-search",{attrs:{condData:t.condData,selectArray:t.selectArray,nameIndex:t.actionTitle,defaultData:t.defaultData},on:{searchBasic:t.searchBasic}})],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[a("el-dropdown",{staticStyle:{float:"right"},attrs:{trigger:"click"}},[a("el-button",{attrs:{"el-button":"",type:"primary",plain:"",size:"mini"}},[t._v("\n            批量操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.actionType,(function(e,o){return a("el-dropdown-item",{key:o,nativeOn:{click:function(a){return t.bulkClick(e)}}},[t._v("\n              "+t._s(e)+"\n            ")])})),1)],1),t._v(" "),a("el-button",{staticStyle:{float:"right",margin:"0 5px"},attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.nodeOpera("activate",[],"激活")}}},[t._v("激活所有\n        ")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.sheetode}},[t._v("导出"),a("i",{staticClass:"el-icon-upload2 el-icon--right"})]),t._v(" "),a("el-upload",{ref:"file",staticClass:"upload-demo",staticStyle:{float:"right"},attrs:{action:"/","on-remove":t.handleRemove,"before-remove":t.beforeRemove,"on-change":t.filseSuccess,"show-file-list":!1,accept:".json,.txt","on-exceed":t.handleExceed,"auto-upload":!1}},[a("el-button",{attrs:{icon:"el-icon-upload",type:"primary",plain:"",size:"mini"}},[t._v("CMDB导入")])],1),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"5px"},attrs:{"el-button":"",type:"primary",plain:"",size:"mini"},on:{click:t.addNode}},[t._v("\n          添加\n        ")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"5px"},attrs:{type:"success",plain:"",size:"mini"},on:{click:t.echartShow}},[t._v("\n          "+t._s(!0===t.topEchartShow?"隐藏图表":"显示图表")+"\n        ")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{data:t.nodeData,border:"","header-cell-style":{color:"#909399",textAlign:"center",background:"#f5f7fa"},"cell-style":{padding:"6px 0"}},on:{"row-click":t.detailClick,"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{prop:"inet",label:"终端IP",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tags",label:"标签",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("svg-icon",{staticClass:"iconfont",staticStyle:{height:"36px",width:"22px",float:"left"},attrs:{"icon-class":"linux"===e.row.goos?"linux":"windows"===e.row.goos?"Windows":"apple"}}),t._v(" "),a("span",{staticStyle:{float:"left","line-height":"37px"}},[a("el-tag",{attrs:{size:"mini",type:3===e.row.status?"success":1===e.row.status?"warning":2===e.row.status?"info":"danger"}},[t._v("\n                "+t._s(3===e.row.status?"在线":1===e.row.status?"未激活":2===e.row.status?"离线":"已删除")+"\n              ")]),t._v(" "),e.row.deleted?a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v("已删除")]):t._e(),t._v(" "),null!==e.row.tags?a("span",[t.ipRe(e.row.tags).length<4?a("span",t._l(t.ipRe(e.row.tags),(function(e,o){return a("el-tag",{key:o,staticStyle:{"margin-right":"3px"},attrs:{size:"mini"}},[t._v("\n                    "+t._s(e))])})),1):a("span",[t._l(t.ipRe(e.row.tags).slice(0,3),(function(e,o){return a("el-tag",{key:o,staticStyle:{"margin-right":"3px"},attrs:{size:"mini"}},[t._v(" "+t._s(e))])})),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Right Center 提示文字",placement:"right"}},[a("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(" + "+t._s(t.ipRe(e.row.tags).length))]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},t._l(t.ipRe(e.row.tags),(function(e,o){return a("span",{key:o,staticStyle:{"padding-right":"15px"}},[t._v(t._s(e)),a("br")])})),0)],1)],2)]):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"edition",label:"版本",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"idc",label:"机房",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.idc?a("span",[t._v("\n                    "+t._s(e.row.idc)+"\n                ")]):a("span",[t._v("\n                    -\n                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"i_bu",label:"部门",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ibu?a("span",[t._v("\n                    "+t._s(e.row.ibu)+"\n                ")]):a("span",[t._v("\n                   -\n                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"CPU",prop:"cpu_core",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"内存",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.company(e.row.mem_total-e.row.mem_free))+"/"+t._s(t.company(e.row.mem_total))+"\n          "),a("el-progress",{attrs:{percentage:t.percentageChange(e.row.mem_total-e.row.mem_free,e.row.mem_total),"show-text":!1,color:t.customColorMethod(e.row.mem_total-e.row.mem_free,e.row.mem_total)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"comment",label:"描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.comment?a("span",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.comment,placement:"bottom"}},[a("span",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"1","line-clamp":"1","-webkit-box-orient":"vertical"}},[t._v(t._s(e.row.comment))])])],1):a("span",[t._v("\n                     -\n                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[3===e.row.status?a("el-popover",{ref:e.row.id+1,attrs:{placement:"top",width:"200"}},[a("p",[t._v("是否重启？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.$refs[e.row.id+1].doClose()}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{loading:t.reloadLoading,type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.commandOfline(e.row)}}},[t._v("确定")])],1),t._v(" "),a("el-button",{staticStyle:{"margin-left":"3%"},attrs:{slot:"reference",size:"mini",type:"text"},on:{click:function(t){t.stopPropagation()}},slot:"reference"},[t._v("重启")])],1):a("span",{staticStyle:{color:"#c0c4cc","margin-left":"3%"}},[t._v("重启")]),t._v(" "),4!==e.row.status?a("el-popover",{ref:e.row.id,attrs:{placement:"top",width:"200"}},[a("p",[t._v("确认删除？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.$refs[e.row.id].doClose()}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{loading:t.delLoading,type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.luoDelete(e.row)}}},[t._v("确定")])],1),t._v(" "),a("el-button",{staticStyle:{"margin-left":"3%"},attrs:{slot:"reference",size:"mini",type:"text"},on:{click:function(t){t.stopPropagation()}},slot:"reference"},[t._v("删除")])],1):a("el-button",{staticStyle:{color:"#f44336","margin-left":"3%"},attrs:{size:"mini",type:"text"},on:{click:function(a){return a.stopPropagation(),t.cheDelete(e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("Page",{attrs:{size:t.size,current:t.current,pageSizeArray:t.pageSizeArray,pageTotal:t.pageTotal},on:{handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange}})],1),t._v(" "),a("NodeForm",{ref:"forms",attrs:{"is-add":t.isAdd}}),t._v(" "),a("ActionForm",{ref:"actionForm",attrs:{title:t.actionTitle,pageTotal:t.pageTotal,filters:t.filters,nodeData:t.nodeData},on:{getNode:t.getNode,cancel:t.cancel}})],1)}),[],!1,null,"4429ed71",null));e.default=p.exports}}]);
//# sourceMappingURL=43.540c0e6269ff92600a76.js.map